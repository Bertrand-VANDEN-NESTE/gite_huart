<%= render "components/navbar" %>
<%= render "components/backgroundheader" %>

<div class="welcome-section">
  <h1>Bienvenue</h1>
  <p>
    Il y a 10 ans, nous avons eu un coup de cœur pour cette demeure du 16ème siècle et son histoire. Déjà, nous avions le projet de partager ce petit coin d'Anjou avec des hôtes...
  </p>
  <p>
    Nous serons heureux de vous accueillir dans nos chambres d'hôtes que nous avons conçues comme nous les aimons quand nous voyageons en couple ou en famille...
  </p>
</div>

<% @home_photos.each do |photo| %>
  <% next if photo.image_paths.empty? %>
  <div class="carousel-container" data-controller="carousel-three">
    <div class="carousel-track" data-carousel-three-target="track">
      <% photo.image_paths.each do |image| %>
        <div class="carousel-slide" data-carousel-three-target="slide">
          <%= image_tag image, class: "carousel-image", data: { action: "click->lightbox#open", lightbox_image_url: asset_path(image) } %>
        </div>
      <% end %>
    </div>
    <button class="carousel-button prev" data-action="carousel-three#prev">‹</button>
    <button class="carousel-button next" data-action="carousel-three#next">›</button>
  </div>
<% end %>

<!-- Lightbox Modal -->
<div id="lightbox" class="lightbox hidden" data-controller="lightbox" data-lightbox-target="container" data-action="click->lightbox#close">
  <img src="" alt="Image agrandie" class="lightbox-image" data-lightbox-target="image" />
  <button class="lightbox-close" data-action="click->lightbox#close">×</button>
</div>

<%= render "components/footer" %>
